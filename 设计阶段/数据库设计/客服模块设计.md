# 客服模块设计

## 1. 引言

本文档描述了电商应用客服模块的数据库设计，包括在线客服表、客服留言表和客服工单表。

## 2. 在线客服表

| 字段名        | 数据类型     | 说明                             |
| ------------- | ------------ | -------------------------------- |
| id            | int          | 在线客服ID，主键，自增           |
| user_id       | int          | 用户ID，外键                     |
| session_id    | varchar(100) | 会话ID                           |
| status        | tinyint      | 会话状态（1：在线，2：离线）       |
| last_active   | datetime     | 最后活跃时间                     |

## 3. 客服留言表

| 字段名        | 数据类型     | 说明                             |
| ------------- | ------------ | -------------------------------- |
| id            | int          | 客服留言ID，主键，自增           |
| user_id       | int          | 用户ID，外键                     |
| message       | text         | 留言内容                         |
| reply_id      | int          | 回复ID，外键（回复留言时设置）   |
| created_at    | datetime     | 留言创建时间                     |
| updated_at    | datetime     | 留言更新时间                     |

## 4. 客服工单表

| 字段名        | 数据类型     | 说明                             |
| ------------- | ------------ | -------------------------------- |
| id            | int          | 客服工单ID，主键，自增           |
| user_id       | int          | 用户ID，外键                     |
| subject       | varchar(255) | 工单主题                         |
| message       | text         | 工单内容                         |
| status        | tinyint      | 工单状态（1：待处理，2：处理中，3：已解决）|
| created_at    | datetime     | 工单创建时间                     |
| updated_at    | datetime     | 工单更新时间                     |

## 5. 结论

本文档定义了电商应用客服模块的数据库设计，为开发团队和数据库管理员提供了数据存储和管理的依据。